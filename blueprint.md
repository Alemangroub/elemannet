# Blueprint: نظام متابعة المشاريع للمقاولات

## نظرة عامة

هذا المشروع هو تطبيق ويب تم بناؤه باستخدام Astro.js ومُحسَّن للعمل على Firebase Studio. الهدف منه هو توفير نظام متكامل للمقاولات لإدارة ومتابعة المشاريع الهندسية. يمكن للمدراء إضافة المشاريع وتعيين المشرفين عليها، والاطلاع على التقارير الدورية التي يقدمها المشرفون لسير العمل.

## الميزات والوظائف

### 1. إدارة المشاريع (للمدراء)
- **لوحة تحكم رئيسية (`/admin/projects`):**
  - تعرض قائمة بجميع المشاريع الحالية في بطاقات أنيقة.
  - كل بطاقة تعرض اسم المشروع، عنوانه، والمشرفين المعينين.
  - يوجد زر "إضافة مشروع جديد" لفتح نموذج الإضافة.
- **نموذج إضافة مشروع:**
  - حقول لإدخال اسم المشروع وعنوانه.
  - قائمة متعددة الاختيارات (`multiple select`) لاختيار المشرفين من قائمة المستخدمين المسجلين.
  - يتم حفظ المشاريع الجديدة في مجموعة `projects` في Firestore.

### 2. صفحة عرض تقارير المشروع (`/admin/projects/[id]`)
- **الغرض:** صفحة **للعرض فقط** مخصصة للمدراء لمراجعة التقارير المقدمة من المشرفين.
- **صفحة ديناميكية (SSR):** يتم توليد هذه الصفحة عند كل طلب لعرض أحدث البيانات مباشرة من قاعدة البيانات.
- **تصميم بعمود واحد:** تركز الواجهة بالكامل على استعراض سجل التقارير بشكل منظم.
- **عرض التقارير:**
  - يتم جلب كل التقارير المرتبطة بالمشروع من Firestore وترتيبها من الأحدث للأقدم.
  - كل تقرير يُعرض في بطاقة خاصة تحتوي على:
    - اسم المشرف الذي قدم التقرير.
    - تاريخ ووقت التقديم.
    - نص التقرير المفصل.
    - معرض صور مصغرة للصور المرفقة (إن وجدت).
    - شريط تقدم يوضح نسبة الإنجاز المحددة في التقرير.

### 3. المصادقة وصفحة تسجيل الدخول
- **صفحة تسجيل الدخول (`/admin`):**
  - واجهة بسيطة لتسجيل الدخول باستخدام البريد الإلكتروني وكلمة المرور عبر Firebase Authentication.
  - عند تسجيل الدخول بنجاح، يتم توجيه المستخدم إلى لوحة تحكم المشاريع.

*(ملاحظة: تم تصميم النظام بحيث يقوم المشرفون بتقديم التقارير من خلال واجهة أخرى، وهذه الصفحة الحالية هي لعرض تلك التقارير للمدير.)*

## التصميم والواجهة
- **اللغة العربية:** الواجهة موجهة بشكل كامل من اليمين إلى اليسار (RTL).
- **الخطوط:** استخدام خط 'Cairo' لتحسين تجربة القراءة باللغة العربية.
- **الألوان والتصميم:**
  - تصميم احترافي ونظيف يعتمد على البطاقات، مع الظلال والحواف الدائرية.
  - استخدام الأيقونات لتحسين فهم المحتوى.
  - تصميم متجاوب (Responsive) يعمل بشكل جيد على الشاشات المختلفة.

## الخطة الحالية والتغييرات الأخيرة

**المهمة: تحويل صفحة تفاصيل المشروع إلى صفحة عرض للتقارير.**

**الخطوات المنفذة:**

1.  **تلقي التوجيه:** تم توضيح أن الصفحة يجب أن تكون لعرض التقارير فقط، وليس لإضافتها.
2.  **إزالة نموذج الإضافة:** تم حذف قسم "إضافة تقرير" بالكامل من صفحة `[id].astro`.
3.  **حذف المكون:** تم حذف ملف `ReportUploader.jsx` لأنه لم يعد له استخدام.
4.  **إعادة تصميم الواجهة:** تم تعديل الكود والتنسيقات (CSS) في `[id].astro` لتصبح الصفحة ذات تصميم بعمود واحد يركز على عرض قائمة التقارير بشكل واضح وجذاب.
