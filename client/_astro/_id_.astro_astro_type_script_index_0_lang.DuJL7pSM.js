import{o as c,d as r,a as y,g,s as a,b as n}from"./client.Ch7ienT3.js";document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("auth-loading-message"),e=document.getElementById("admin-login-container"),t=document.getElementById("page-content");c(n,async i=>{if(s&&(s.style.display="none"),i)try{const o=r(y,"users",i.uid),d=await g(o);if(d.exists()&&d.data().role==="admin"){t&&(t.style.display="block"),e&&(e.style.display="none");const l=document.getElementById("logout-button");l&&l.addEventListener("click",async()=>{await a(n),window.location.href="/admin"})}else await a(n),window.location.href="/admin"}catch(o){console.error("Auth Check Error:",o),await a(n),e&&(e.style.display="block"),t&&(t.style.display="none")}else t&&(t.style.display="none"),e&&(e.style.display="block")})});
