import{o as g,d as h,a as E,g as p,s as l,b as d}from"./client.Ch7ienT3.js";document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("auth-loading-message"),n=document.getElementById("admin-login-container"),o=document.getElementById("page-content");g(d,async e=>{if(s&&(s.style.display="none"),e)try{const a=h(E,"users",e.uid),i=await p(a);if(i.exists()&&i.data().role==="admin"){o&&(o.style.display="block"),n&&(n.style.display="none");const m=document.getElementById("logout-button");m&&m.addEventListener("click",async()=>{await l(d),window.location.href="/admin"})}else await l(d),window.location.href="/admin"}catch(a){console.error("Auth Check Error:",a),await l(d),n&&(n.style.display="block"),o&&(o.style.display="none")}else o&&(o.style.display="none"),n&&(n.style.display="block")});const c=document.querySelector(".container");if(!c)return;c.addEventListener("click",e=>{const a=e.target;if(a.matches(".delete-btn")){const i=a.dataset.deleteUrl;i&&u(i)}});const t=document.getElementById("delete-modal"),r=document.getElementById("cancel-delete-btn"),f=document.getElementById("confirm-delete-btn");function u(e){f&&(f.href=e),t&&(t.style.display="flex")}function y(){t&&(t.style.display="none")}r&&r.addEventListener("click",y),t&&t.addEventListener("click",e=>{e.target===t&&y()})});
