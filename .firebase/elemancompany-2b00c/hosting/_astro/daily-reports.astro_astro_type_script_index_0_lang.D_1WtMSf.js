import{o as h,d as b,a as E,g as w,s as c,b as s}from"./client.ocY2oErL.js";document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("auth-loading-message"),i=document.getElementById("admin-login-container"),l=document.getElementById("page-content");h(s,async t=>{if(r&&(r.style.display="none"),t)try{const e=b(E,"users",t.uid),a=await w(e);if(a.exists()&&a.data().role==="admin"){l&&(l.style.display="block"),i&&(i.style.display="none");const o=document.getElementById("logout-button");o&&o.addEventListener("click",async()=>{await c(s),window.location.href="/admin"})}else await c(s),window.location.href="/admin"}catch(e){console.error("Auth Check Error:",e),await c(s),i&&(i.style.display="block"),l&&(l.style.display="none")}else l&&(l.style.display="none"),i&&(i.style.display="block")});const y=document.querySelector(".container");if(!y)return;y.addEventListener("click",t=>{const e=t.target,a=e.closest(".daily-report-card");if(!a)return;const o=a.querySelector(".view-mode"),d=a.querySelector(".edit-mode");if(e.matches(".edit-btn-toggle")&&(o&&(o.style.display="none"),d&&(d.style.display="block")),e.matches(".cancel-btn-toggle")&&(d&&(d.style.display="none"),o&&(o.style.display="block")),e.matches(".delete-btn")){const g=e.dataset.deleteUrl;g&&p(g)}});const n=document.getElementById("delete-modal"),f=document.getElementById("cancel-delete-btn"),m=document.getElementById("confirm-delete-btn");function p(t){m&&(m.href=t),n&&(n.style.display="flex")}function u(){n&&(n.style.display="none")}f&&f.addEventListener("click",u),n&&n.addEventListener("click",t=>{t.target===n&&u()})});
